
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <table id="display"></table>
    
    <script>

        function fetchDataFromAPI()
        {
            fetch("https://65276509917d673fd76da263.mockapi.io/API")
        .then(y=>y.json())
        .then(y=> {

            displayInfo(y)
        })

        }

        fetchDataFromAPI();

      

        const displayInfo =(data)=>
        {

            let p = data.map((v)=>{

                return (`<tr><td>${v.firstName}</td><td>${v.lastName}</td><td><button onclick="deleteUser(${v.id})">Delete</button></td></tr>`)
            });

            document.getElementById("display").innerHTML = p.join(" ");

        }
       
        const deleteUser= (id)=>{


            fetch(`https://65276509917d673fd76da263.mockapi.io/API/${id}`,{
                method:"DELETE"
            })
            .then(y=>y.json())
            .then(y=> {
                console.log(y);
                fetchDataFromAPI();
            })

        }


    </script>
</body>
</html>
