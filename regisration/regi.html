<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div class="container">
        <h2>Registration form</h2>
        <form onsubmit="submitData(event)">
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" class="form-control" id="title" placeholder="Enter title" name="title">
              </div>
            <div class="form-group">
                <label for="firstName">FirstName:</label>
                <input type="text" class="form-control" id="firstName" placeholder="Enter firstName" name="firstName">
              </div>
              <div class="form-group">
                <label for="lastName">LastName:</label>
                <input type="text" class="form-control" id="lastName" placeholder="Enter lastName" name="lastName">
              </div>
              
            <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" class="form-control" id="email" placeholder="Enter email" name="email">
          </div>
          <div class="form-group">
            <label for="pwd">Password:</label>
            <input type="password" class="form-control" id="pwd" placeholder="Enter password" name="pwd">
          </div>
          <div class="form-group">
            <label for="cpwd">Confirm Password:</label>
            <input type="password" class="form-control" id="cpwd" placeholder="Enter confirm password" name="cpwd">
          </div>
          
          
          <div class="form-group form-check">
            <label class="form-check-label">
              <input class="form-check-input form-control" type="checkbox" id="acceptTerm"> Accept Term
            </label>
          </div>
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>
      <script>
        const submitData = () =>{

            e.preventDefault();

            
            let obj = {

                "title" : document.getElementById("title").value,
                "firstName" : document.getElementById("firstNmae").value,
                "lastName" : document.getElementById("lastName").value,
                "email" : document.getElementById("email").value,
                "password" : document.getElementById("pwd").value,
                "confirmPassword" : document.getElementById("cpwd").value,
                "acceptTerm" : document.getElementById("acceptTerm").cheched



            };
            fetch("https://real-pear-fly-kilt.cyclic.app/accounts/register",{
             method:"POST",
            headers : {
                'Content-Type' : "application/json"
            },
            body: JSON.stringify(obj)
            }).then(y=>y.json())
            
            .then(y=> {

              
            console.log(y);

            // localStorage.setItem("token",y.jwtToken);

            window.location.href = "login.html"
            })
            console.log(obj);
           
        }   
        
        </script>
      
</body>
</html>